<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COMPANHIA DE BOMBEIRO MILITAR do 1º BBM</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'bombeiros-orange': '#FF8C00',
                        'bombeiros-yellow': '#FFD700',
                        'cbmrs-blue': '#1A5276',
                        'cbmrs-light-blue': '#4A90E2',
                        'fire-red': '#DC2626',
                        'dark-red-opaque': '#8B0000', /* Vermelho mais opaco */
                        'pure-white': '#FFFFFF', /* Branco puro */
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* Fallback bg-color */
        }
        .hero-background {
            background-image: url('images/background.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            position: relative;
            z-index: 0;
        }
        .hero-background::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: -1;
        }
        .shortcut-button {
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            height: 100px;
            padding: 8px;
        }
        .shortcut-button:hover {
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
            transform: translateY(-5px);
        }
        .shortcut-button.bg-bombeiros-orange {
            background-color: rgba(255, 140, 0, 0.5);
        }
        .shortcut-button.bg-bombeiros-orange:hover {
            background-color: rgba(255, 140, 0, 0.75);
        }
        .shortcut-button.bg-dark-red-opaque {
            background-color: rgba(139, 0, 0, 0.5);
        }
        .shortcut-button.bg-dark-red-opaque:hover {
            background-color: rgba(139, 0, 0, 0.75);
        }
        .button-text {
            font-size: 11px;
            font-weight: 700;
            color: white;
            line-height: 1.2;
            word-break: break-word;
            hyphens: auto;
        }
        .login-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            display: none; align-items: center; justify-content: center; z-index: 1000;
        }
        .login-box {
            background-color: #2D3748; padding: 2rem; border-radius: 0.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            text-align: center; width: 90%; max-width: 400px;
        }
        .login-box input {
            width: 100%; padding: 0.75rem; margin-bottom: 1rem; border-radius: 0.25rem;
            background-color: #4A5568; color: white; border: 1px solid #718096;
        }
        .login-box input::placeholder { color: #A0AEC0; }
        .login-box button {
            width: 100%; padding: 0.75rem; border-radius: 0.25rem;
            background-color: #FF8C00; color: white; font-weight: bold;
            cursor: pointer; transition: background-color 0.3s;
        }
        .login-box button:hover { background-color: #cc7000; }
        .link-bloqueado {
            opacity: 0.5; cursor: not-allowed; background-color: #4A5568 !important;
        }
        .link-bloqueado:hover {
            transform: none; box-shadow: none; background-color: #4A5568 !important;
        }
    </style>
</head>
<body class="text-white min-h-screen flex flex-col">

<div class="flex-grow hero-background">
    <header class="py-4 shadow-lg z-10">
        <div class="container mx-auto px-4 text-center">
            <div class="flex flex-wrap items-center justify-center gap-4">
                <div class="bg-cbmrs-blue p-2 rounded-lg">
                    <img src="https://www.bombeiros.rs.gov.br/themes/sitecbmrs/images/logos/logo.png" alt="Logo CBMRS" class="h-16 md:h-20 w-auto">
                </div>
                <div>
                    <h1 class="text-xl md:text-2xl font-extrabold text-bombeiros-yellow">
                        COMPANHIA DE BOMBEIRO MILITAR do 1º BBM
                    </h1>
                </div>
                <div class="bg-cbmrs-blue p-2 rounded-lg">
                    <img src="images/brasao_1BBM_PARA_site.png" alt="Brasão 1º BBM" class="h-16 md:h-20 w-auto">
                </div>
            </div>
            
            <div class="mt-3">
                <h2 class="text-lg md:text-xl font-bold text-white">
                    Bem-vindo, <span class="text-bombeiros-orange">Guerreiro do Fogo!</span>
                </h2>
                <p class="text-sm text-gray-300 max-w-2xl mx-auto mt-1">
                    Aqui tu poderás acessar as principais ferramentas criadas pelos membros da CIA para facilitar o acesso às demandas administrativas, otimizando teu tempo e o nosso trabalho em prol da sociedade. Avante CBMRS!
                </p>
                
                <div class="mt-4 max-w-4xl mx-auto flex flex-col md:flex-row gap-4">
                    <div id="widget-aniversarios-dia" class="w-full md:w-1/2 p-3 bg-black/50 border border-bombeiros-yellow/50 rounded-lg" style="display: none;">
                        <h3 class="font-bold text-bombeiros-yellow flex items-center">
                            <i class="fas fa-birthday-cake mr-2"></i>
                            Aniversariantes do Dia
                        </h3>
                        <span id="data-atual" class="block text-xs text-gray-400 font-mono text-left mb-2"></span>
                        <p class="text-sm text-left text-white" id="lista-aniversariantes-dia"></p>
                    </div>

                    <div id="widget-aniversarios-mes" class="w-full md:w-1/2 p-3 bg-black/50 border border-cbmrs-light-blue/50 rounded-lg" style="display: none;">
                         <h3 class="font-bold text-cbmrs-light-blue flex items-center mb-2">
                            <i class="fas fa-calendar-alt mr-2"></i>
                            Aniversariantes do Mês de <span id="mes-atual-nome" class="ml-1"></span>
                        </h3>
                        <div class="text-xs text-left text-white" id="lista-aniversariantes-mes"></div>
                    </div>
                </div>

            </div>
        </div>
    </header>

    <main class="flex items-center justify-center py-6">
        <div class="container mx-auto px-4 text-center">
             <div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-7 gap-4 justify-center">

                <a href="https://docs.google.com/spreadsheets/d/1iKbIc6_7RHpPQWxdr7fMab4ljt5wntMsFTt9UDLD4rA/edit?gid=392855966#gid=392855966" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-calendar-alt text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">ESCALA ÚNICA SETEMBRO</span>
                </a>
                
                <a href="https://drive.google.com/drive/u/0/folders/1lpicifxUZxNmydzskZRmPkitLS1Px2xR" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md" data-role="admin">
                    <i class="fas fa-users text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">MAPA DE ETAPA E HE</span>
                </a>
                <a href="https://drive.google.com/drive/folders/19na5exdsCw863xLLIVTby6AbxWZ02Euq" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md" data-role="admin">
                    <i class="fas fa-calendar-times text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">INDISPONIBILIDADE MENSAL</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1TX74kxfZ9UfjFfMzMFrUAG4MqntYeAiRyKcBnG57J1o/edit?gid=232710291#gid=232710291" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md" data-role="admin">
                    <i class="fas fa-calendar-check text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">CONFIRMAÇÃO de FÉRIAS</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/13ZiHTHxL9Gl5DRG-Nuhy3MgjuqqYzvVVkUet6xgKRQM/edit?gid=62629923#gid=62629923" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md" data-role="admin">
                    <i class="fas fa-water text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">DISP. MERGULHADOR /<br>CINOTECNIA</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1pzSKuhnJZe0B0IKhv8J2sTQmz9LgyOkG2dunrA65J1o/edit?gid=163975323#gid=163975323" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md" data-role="admin">
                    <i class="fas fa-user-tie text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">FUNÇÕES CIA</span>
                </a>
                
                <a href="https://forms.gle/L4KsYnat3rCkoZwV8" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md" title="Todos militares devem preencher a planilha até o dia 27 de Junho de 2025!">
                    <i class="fas fa-clipboard-list text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">FORMULÁRIO</span>
                </a>
                <a href="https://drive.google.com/drive/u/1/folders/1_cu1Vqh78hmZ6okQ0wfo0-oOaljT-zPp" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-clock text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">PREVISÃO (OUTUBRO)</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1KSonnz8y42uMBflzRYlDkt8BO9OWiTPjd4Das0oPgqY/edit?gid=1086865597#gid=1086865597" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-users text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">EFETIVO</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/144g1qOiO44steK7mbICkFt-pXF_vebDqDyPmzgd22hM/edit?gid=1128532433#gid=1128532433" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-plane-departure text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">PLANO de FÉRIAS</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1NQ31i3W5QChjhg1g5AtjCW4Rx5dAL3r_d0Ayki92e3c/edit?gid=2047429802#gid=2047429802" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-hospital-alt text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">AFASTAMENTOS</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/11KSqhhZjiUnKAqxfADJ45PwTDfL9Em3K/edit?gid=2014955697#gid=2014955697" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-id-card-alt text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">VALIDADE CCVTE</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1Uqcm1ATl_i7R5J9BMK6ZZay17bghB3ijXmuR599O0A0/edit?gid=2024029627#gid=2024029927" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-flask text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">TOXICOLÓGICO</span>
                </a>
                <a href="https://drive.google.com/drive/u/1/folders/1HR8JO24uWEWSOfeUuzphWUFweMeN0XRX" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-file-medical text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">FICHA DE RENOVAÇÃO</span>
                </a>
                 
                <a href="https://ciabm-1bbm.github.io/troca_de_fardamento/" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-shirt text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">PLATAFORMA P/ TROCA<br>DE FARDAMENTO</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1TgsrZ-67BDQs6ruf4aB-T4o1gELk1PTINDH-pocM9_g/edit?gid=1206238668#gid=1206238668" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-clipboard-list text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">PARTES SLOG</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/12l1ckdiRDV8d1RnINcaLvWtpoVVK8Rv4msPR7gLkEy4/edit?gid=2017439007#gid=2017439007" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-chart-bar text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">ESTATÍSTICAS</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1DbFURN7FxvMs_UeSWQkODaMRo1t06LA3Ww6t5B8l0RA/edit?gid=693248110#gid=693248110" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-comment-dots text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">Nº MSG EXPRESSAS</span>
                </a>
                <a href="https://drive.google.com/file/d/1QzmPk-RvWS5wl8sR3xPaWpmDAGU1cNET/view?usp=sharing" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-route text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">TUTORIAL DIÁRIAS</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/17UVmvKgC_bgrtR245o07PThuHrduCUK7rI203q2GbG8/edit#gid=0" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-truck-moving text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">VIATURAS</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1X2tn-ay7Xc0zOxV9lpJzN24KEelkzzB6JS7ewQzVCwE/edit?gid=926343856#gid=926343856" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-ship text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">EQUIPAMENTOS</span>
                </a>
                <a href="https://gestaodefrotas.planejamento.rs.gov.br/frota/gestao/abastecimento/" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-file-invoice-dollar text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">CONSULTA VALORES<br>COMBUSTÍVEL</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1eGyJ9OOvhvVACvd88X2oMfkYi_epj15X6sV9gUDWS8Q/edit?gid=1519715908#gid=1519715908" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-life-ring text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">SITUAÇÃO GUARDA VIDAS<br>2024/25</span>
                </a>
                <a href="https://drive.google.com/drive/u/1/folders/16hXVQaxmRfkn9YPNG1-4yTPgdong0UYm" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-gas-pump text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">ABASTECIMENTOS</span>
                </a>
                <a href="https://docs.google.com/document/d/1DRnUQCHcH__eoh_gcvJxhUUXp_nvavyguV-lyVkW20g/edit?usp=sharing" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-list-check text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">CHECKLIST DOS MAPAS</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1tlmByosp_RENxiMZVeNJL0bg5BS3yPtCmsW8-N9MC3o/edit?gid=416715601#gid=416715601" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-car-side text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">AUTORIZAÇÃO DESLOCAMENTO VTR</span>
                </a>
                <a href="https://drive.google.com/drive/folders/1DJm9aKGiudhPhEFBJ94SXQiMRTdV_xXN?usp=sharing" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-folder-open text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">ORDENS DE SERVIÇO EM VIGOR</span>
                </a>
                <a href="https://drive.google.com/drive/u/1/folders/1rDz7ecttIN-z7h--wEdSQQO4cLkINZkk" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-folder-open text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">MODELOS DOCS</span>
                </a>
                <a href="https://drive.google.com/drive/folders/1enYhn1PD-8nBmNKEWDQNjfAJoC6fKxeC?usp=sharing" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-newspaper text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">BOLETIM INTERNO</span>
                </a>
                <a href="https://drive.google.com/drive/folders/1wLuQM7gZMsm5iMw3wOOJd7kA8HRmaHRN?usp=sharing" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-file-alt text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">NOTAS PARA BI</span>
                </a>
                
                <a href="#" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md" title="Substitua o # pelo link do seu material!">
                    <i class="fas fa-book text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">MATERIAL PARA LEITURA</span>
                </a>

                <a href="mailto:portoalegre-acorianos-cia@cbm.rs.gov.br" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-envelope-open-text text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">E-MAIL CIA</span>
                </a>
                <a href="https://wa.me/+5555984423613" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fab fa-whatsapp text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">WHATSAPP CIA</span>
                </a>

                <a href="https://intranet.cbm.rs.gov.br/" class="shortcut-button bg-dark-red-opaque rounded-lg shadow-md">
                    <i class="fas fa-desktop text-2xl md:text-4xl text-pure-white mb-2"></i>
                    <span class="button-text">INTRANET CBM</span>
                </a>
                <a href="https://e193.cbm.rs.gov.br/" target="_blank" class="shortcut-button bg-dark-red-opaque rounded-lg shadow-md">
                    <i class="fas fa-phone-alt text-2xl md:text-4xl text-pure-white mb-2"></i>
                    <span class="button-text">E-193</span>
                </a>
                <a href="guarnicoes.html" class="shortcut-button bg-dark-red-opaque rounded-lg shadow-md">
                    <i class="fas fa-users-cog text-2xl md:text-4xl text-pure-white mb-2"></i>
                    <span class="button-text">GUARNIÇÕES DE SERVIÇO</span>
                </a>
            </div>
        </div>
    </main>
</div>

<footer class="bg-gray-800 text-gray-400 py-3 z-10">
    <div class="container mx-auto px-4 text-center text-xs">
        <p>&copy; 2025 Companhia de Bombeiro Militar - 1º BBM. Desenvolvido por Gustavo Medeiros.</p>
        <p class="mt-1">
            Para demais assuntos acesse a
            <a href="https://www.bombeiros.rs.gov.br/inicial" target="_blank" class="text-cbmrs-light-blue hover:underline">Página do CBMRS na Internet.</a>
        </p>
    </div>
</footer>

<div id="login-overlay" class="login-overlay">
    <div class="login-box">
        <img src="https://www.bombeiros.rs.gov.br/themes/sitecbmrs/images/logos/logo.png" alt="Logo CBMRS" class="h-16 w-auto mx-auto mb-4">
        <h2 class="text-xl font-bold text-white mb-4">Acesso Restrito</h2>
        <form id="login-form">
            <input type="text" id="username" placeholder="ID Funcional" required>
            <input type="password" id="password" placeholder="Senha" required>
            <button type="submit">Entrar</button>
            <p id="login-error" class="text-red-500 text-sm mt-3" style="display: none;">Dados inválidos. Tente novamente.</p>
        </form>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- 1. DECLARAÇÃO DE VARIÁVEIS E CONSTANTES ---
        const loginOverlay = document.getElementById('login-overlay');
        const loginForm = document.getElementById('login-form');
        const usernameInput = document.getElementById('username');
        const passwordInput = document.getElementById('password');
        const loginError = document.getElementById('login-error');
        const allShortcutButtons = document.querySelectorAll('.shortcut-button');
        let clickedLinkHref = null;

        const efetivo = {
			"2237423": { role: "padrao", nomeGuerra: "3° SGT RAMOS", nascimento: "13/01" },
			"2241951": { role: "padrao", nomeGuerra: "1º TEN PME DONATO", nascimento: "30/08" },
			"2247410": { role: "padrao", nomeGuerra: "1º TEN PME EVERTON", nascimento: "24/09" },
			"2248204": { role: "padrao", nomeGuerra: "2° SGT PME CARGNELUTTI", nascimento: "21/01" },
			"2250470": { role: "padrao", nomeGuerra: "2° SGT PME SALDANHA", nascimento: "30/08" },
			"2260280": { role: "padrao", nomeGuerra: "1º TEN PME MOREIRA", nascimento: "03/06" },
			"2260670": { role: "padrao", nomeGuerra: "2° SGT PME DACHI", nascimento: "15/02" },
			"2262070": { role: "padrao", nomeGuerra: "1° TEN PME RIBEIRO", nascimento: "30/04" },
			"2262290": { role: "padrao", nomeGuerra: "1° SGT PME ARAGÃO", nascimento: "22/07" },
			"2262363": { role: "padrao", nomeGuerra: "1º TEN PME TERRA", nascimento: "15/09" },
			"2267373": { role: "admin", nomeGuerra: "1º TEN PME DILMAR", nascimento: "02/02" },
			"2284995": { role: "padrao", nomeGuerra: "1º TEN PME LUIS FERNANDO", nascimento: "29/07" },
			"2285045": { role: "padrao", nomeGuerra: "1º TEN PME JAIRO", nascimento: "19/04" },
			"2303876": { role: "admin", nomeGuerra: "1° TEN EDSON DOMINGUES", nascimento: "28/03" },
			"2328674": { role: "padrao", nomeGuerra: "1º TEN PME TAIRONE", nascimento: "28/05" },
			"2328798": { role: "padrao", nomeGuerra: "1º TEN PME PRADE", nascimento: "11/08" },
			"2328828": { role: "padrao", nomeGuerra: "1° SGT FRANCO", nascimento: "28/02" },
			"2328925": { role: "admin", nomeGuerra: "1° SGT DELAVECHIA", nascimento: "18/04" },
			"2328976": { role: "padrao", nomeGuerra: "3° SGT GONZAGA", nascimento: "02/09" },
			"2329034": { role: "padrao", nomeGuerra: "1° SGT MARCZAK", nascimento: "23/08" },
			"2414066": { role: "admin", nomeGuerra: "1° SGT LUCIANO", nascimento: "16/03" },
			"2414155": { role: "admin", nomeGuerra: "1º TEN FREITAS", nascimento: "08/03" },
			"2414600": { role: "admin", nomeGuerra: "1° SGT LINCOLN", nascimento: "24/12" },
			"2423146": { role: "padrao", nomeGuerra: "SD DORNELES", nascimento: "14/09" },
			"2423154": { role: "padrao", nomeGuerra: "SOBIESKI", nascimento: "" }, // DADOS NÃO ENCONTRADOS NA NOVA PLANILHA
			"2423219": { role: "admin", nomeGuerra: "1º TEN VIEIRA", nascimento: "30/04" },
			"2519160": { role: "padrao", nomeGuerra: "1 SGT RIBEIRO", nascimento: "26/10" },
			"2519720": { role: "padrao", nomeGuerra: "2° SGT BEN-HUR", nascimento: "24/12" },
			"2520087": { role: "padrao", nomeGuerra: "2° SGT JÚLIO", nascimento: "17/10" },
			"2612887": { role: "admin", nomeGuerra: "1° SGT PME JULIANO", nascimento: "14/05" },
			"2614170": { role: "padrao", nomeGuerra: "1° SGT DORNELLES", nascimento: "20/03" },
			"2615134": { role: "admin", nomeGuerra: "1° SGT RONALDO", nascimento: "14/06" },
			"2683520": { role: "admin", nomeGuerra: "1° TEN SITENESKI", nascimento: "11/06" },
			"2684640": { role: "admin", nomeGuerra: "1º TEN MEDINA", nascimento: "14/12" },
			"2685582": { role: "admin", nomeGuerra: "MAJ HOMRICH", nascimento: "18/08" },
			"2686589": { role: "admin", nomeGuerra: "1° SGT GUEDES", nascimento: "09/10" },
			"2688280": { role: "padrao", nomeGuerra: "2° SGT FABIANA", nascimento: "27/10" },
			"2688379": { role: "admin", nomeGuerra: "2° SGT BECKER", nascimento: "28/04" },
			"2689138": { role: "admin", nomeGuerra: "1° TEN PATRICIO", nascimento: "25/03" },
			"2690721": { role: "admin", nomeGuerra: "1° SGT FERNANDO", nascimento: "09/04" },
			"2691175": { role: "padrao", nomeGuerra: "LUIZ", nascimento: "" }, // DADOS NÃO ENCONTRADOS NA NOVA PLANILHA
			"2810727": { role: "padrao", nomeGuerra: "HOFFMANN", nascimento: "" }, // DADOS NÃO ENCONTRADOS NA NOVA PLANILHA
			"2822130": { role: "admin", nomeGuerra: "SD MEDEIROS", nascimento: "01/01" },
			"2823900": { role: "admin", nomeGuerra: "1° SGT ALBUQUERQUE", nascimento: "16/10" },
			"2826097": { role: "padrao", nomeGuerra: "SD MARTINEZ", nascimento: "05/10" },
			"2856476": { role: "admin", nomeGuerra: "1° SGT PAIM", nascimento: "13/06" },
			"2871980": { role: "padrao", nomeGuerra: "SD PESSOTA", nascimento: "06/06" },
			"2877015": { role: "padrao", nomeGuerra: "2° SGT PRADIER", nascimento: "27/04" },
			"2877350": { role: "padrao", nomeGuerra: "SD BRUNA", nascimento: "20/08" },
			"2877708": { role: "admin", nomeGuerra: "2° SGT JUNIOR", nascimento: "06/07" },
			"2878143": { role: "padrao", nomeGuerra: "2° SGT PANAZZOLO", nascimento: "19/03" },
			"2879620": { role: "admin", nomeGuerra: "1° SGT FLÁVIO", nascimento: "20/04" },
			"2880601": { role: "admin", nomeGuerra: "2° SGT CHIEZA", nascimento: "30/11" },
			"2882337": { role: "padrao", nomeGuerra: "2° SGT THAIS", nascimento: "07/11" },
			"2885450": { role: "admin", nomeGuerra: "2° SGT FABRICIO", nascimento: "08/07" },
			"2891301": { role: "padrao", nomeGuerra: "SD FERREIRA", nascimento: "23/10" },
			"2915219": { role: "padrao", nomeGuerra: "2 SGT SAUL", nascimento: "21/05" },
			"2918951": { role: "padrao", nomeGuerra: "2° SGT BARBARA", nascimento: "02/10" },
			"2919478": { role: "padrao", nomeGuerra: "SD FARIAS", nascimento: "25/11" },
			"2919540": { role: "admin", nomeGuerra: "1° SGT AIRTON", nascimento: "08/10" },
			"2919559": { role: "padrao", nomeGuerra: "2° SGT CESAR", nascimento: "26/09" },
			"2919591": { role: "admin", nomeGuerra: "1° SGT LAMADRIL", nascimento: "22/11" },
			"2968550": { role: "padrao", nomeGuerra: "SD DOMINGUES", nascimento: "31/12" },
			"2970031": { role: "padrao", nomeGuerra: "SD BRUM", nascimento: "30/03" },
			"2971577": { role: "padrao", nomeGuerra: "SD BARREIRO", nascimento: "24/08" },
			"2985675": { role: "padrao", nomeGuerra: "SD BOTEGA", nascimento: "06/01" },
			"2987120": { role: "padrao", nomeGuerra: "SD JUSSIE", nascimento: "08/04" },
			"2993767": { role: "admin", nomeGuerra: "1° SGT ARIAS", nascimento: "01/01" },
			"2993996": { role: "padrao", nomeGuerra: "SD ESPINOSA", nascimento: "24/09" },
			"2994500": { role: "padrao", nomeGuerra: "SD LEANDRO", nascimento: "02/10" },
			"3085120": { role: "admin", nomeGuerra: "1° SGT ASSIS", nascimento: "15/07" },
			"3135896": { role: "padrao", nomeGuerra: "1° SGT GUEDES", nascimento: "10/04" },
			"3136019": { role: "admin", nomeGuerra: "1° SGT POSENATO", nascimento: "02/10" },
			"3136671": { role: "padrao", nomeGuerra: "SD FINGER", nascimento: "15/11" },
			"3136728": { role: "padrao", nomeGuerra: "SD FERREIRA", nascimento: "06/06" },
			"3137473": { role: "padrao", nomeGuerra: "1° SGT MATHEUS", nascimento: "24/06" },
			"3137600": { role: "padrao", nomeGuerra: "SD BERGHAHN", nascimento: "11/02" },
			"3139859": { role: "padrao", nomeGuerra: "SD DANILO", nascimento: "21/01" },
			"3140717": { role: "padrao", nomeGuerra: "SD VICENTE", nascimento: "14/10" },
			"3142647": { role: "padrao", nomeGuerra: "SD DIEIQUE", nascimento: "18/08" },
			"3146316": { role: "admin", nomeGuerra: "CAP LOPES", nascimento: "10/05" },
			"3148947": { role: "padrao", nomeGuerra: "1° SGT GOMES", nascimento: "10/10" },
			"3159000": { role: "padrao", nomeGuerra: "SD GONZALEZ", nascimento: "05/10" },
			"3164071": { role: "padrao", nomeGuerra: "SD VINICIUS", nascimento: "05/01" },
			"3169804": { role: "padrao", nomeGuerra: "SD PATRICK", nascimento: "09/10" },
			"3205614": { role: "admin", nomeGuerra: "SD HERMENEGILDO", nascimento: "27/12" },
			"3622363": { role: "padrao", nomeGuerra: "SD BERNARDES", nascimento: "22/02" },
			"3694623": { role: "admin", nomeGuerra: "2° SGT SCHNEIDER", nascimento: "08/10" },
			"3695034": { role: "padrao", nomeGuerra: "SD THIAGO COELHO", nascimento: "13/12" },
			"3695212": { role: "padrao", nomeGuerra: "SD PEDRO", nascimento: "22/11" },
			"3695832": { role: "padrao", nomeGuerra: "2° SGT CASTRO", nascimento: "24/03" },
			"3696049": { role: "padrao", nomeGuerra: "SD BATISTA", nascimento: "07/08" },
			"3696111": { role: "padrao", nomeGuerra: "SD BITENCOURT", nascimento: "29/12" },
			"3696391": { role: "padrao", nomeGuerra: "SD BOTTINI", nascimento: "28/02" },
			"3696510": { role: "padrao", nomeGuerra: "SD RAUBUSTT", nascimento: "12/02" },
			"3696570": { role: "padrao", nomeGuerra: "SD DREYER", nascimento: "19/08" },
			"3696669": { role: "padrao", nomeGuerra: "SD THALIN", nascimento: "14/01" },
			"3696715": { role: "padrao", nomeGuerra: "2° SGT KANOFRE", nascimento: "04/02" },
			"3696758": { role: "padrao", nomeGuerra: "SD BARRETO", nascimento: "29/08" },
			"3696790": { role: "admin", nomeGuerra: "2 SGT DA COSTA", nascimento: "17/11" },
			"3696847": { role: "padrao", nomeGuerra: "SD ACÁCIO", nascimento: "05/05" },
			"3696944": { role: "padrao", nomeGuerra: "SD LAGO", nascimento: "05/02" },
			"3697100": { role: "padrao", nomeGuerra: "SD GUTERRES", nascimento: "16/01" },
			"3697193": { role: "padrao", nomeGuerra: "SD BRUM", nascimento: "27/02" },
			"3697290": { role: "padrao", nomeGuerra: "SD ROGER", nascimento: "25/11" },
			"3697550": { role: "padrao", nomeGuerra: "SD DA SILVA", nascimento: "25/08" },
			"3697630": { role: "padrao", nomeGuerra: "2° SGT MENDES", nascimento: "25/08" },
			"3697673": { role: "padrao", nomeGuerra: "SD BRUNO", nascimento: "30/05" },
			"3698360": { role: "padrao", nomeGuerra: "SD VILELA", nascimento: "23/02" },
			"3698602": { role: "padrao", nomeGuerra: "SD FABIO", nascimento: "03/04" },
			"3698653": { role: "admin", nomeGuerra: "2 SGT JULIA", nascimento: "25/05" },
			"3698734": { role: "padrao", nomeGuerra: "SD ROGAN", nascimento: "24/09" },
			"3699145": { role: "padrao", nomeGuerra: "SD THIAGO", nascimento: "28/05" },
			"3701638": { role: "padrao", nomeGuerra: "SD CRISTIANO", nascimento: "14/04" },
			"3705374": { role: "padrao", nomeGuerra: "SD ALANA", nascimento: "03/02" },
			"3718093": { role: "padrao", nomeGuerra: "SD ZEMPER", nascimento: "06/10" },
			"3718123": { role: "padrao", nomeGuerra: "SD SCHULTZ", nascimento: "06/08" },
			"3725570": { role: "padrao", nomeGuerra: "SD BRUNO EDUARDO", nascimento: "20/02" },
			"3726207": { role: "padrao", nomeGuerra: "SD MAURÍCIO", nascimento: "10/12" },
			"3872319": { role: "padrao", nomeGuerra: "SD ALESSANDRO", nascimento: "17/10" },
			"3878902": { role: "padrao", nomeGuerra: "CAP ANA PAULA", nascimento: "08/05" },
			"4230760": { role: "padrao", nomeGuerra: "SD DAYKER", nascimento: "13/09" },
			"4278623": { role: "padrao", nomeGuerra: "SD CASSIANO", nascimento: "01/03" },
			"4279310": { role: "admin", nomeGuerra: "CAP MARTINS", nascimento: "01/10" },
			"4279808": { role: "padrao", nomeGuerra: "2° SGT GUIMARÃES", nascimento: "26/10" },
			"4289064": { role: "padrao", nomeGuerra: "SD BELOMO", nascimento: "26/07" },
			"4289102": { role: "padrao", nomeGuerra: "SD ALISSON", nascimento: "06/09" },
			"4289366": { role: "padrao", nomeGuerra: "SD DEIVID", nascimento: "05/10" },
			"4299140": { role: "padrao", nomeGuerra: "SD DETONI", nascimento: "16/10" },
			"4353781": { role: "padrao", nomeGuerra: "SD TOMIELLO", nascimento: "04/09" },
			"4353927": { role: "padrao", nomeGuerra: "2° SGT COAN", nascimento: "10/09" },
			"4353986": { role: "padrao", nomeGuerra: "SD MONTEIRO", nascimento: "28/06" },
			"4354273": { role: "padrao", nomeGuerra: "SD GONÇALVES", nascimento: "30/11" },
			"4354435": { role: "padrao", nomeGuerra: "SD ISMAEL", nascimento: "18/04" },
			"4354532": { role: "padrao", nomeGuerra: "SD SANTOS", nascimento: "19/02" },
			"4354583": { role: "padrao", nomeGuerra: "SD JONATHAN", nascimento: "04/04" },
			"4354680": { role: "padrao", nomeGuerra: "SD VARGAS", nascimento: "30/06" },
			"4354737": { role: "admin", nomeGuerra: "SD BRUNO", nascimento: "24/06" },
			"4355113": { role: "padrao", nomeGuerra: "SD RAUBACH", nascimento: "02/02" },
			"4355148": { role: "padrao", nomeGuerra: "SD LOPES", nascimento: "14/09" },
			"4355229": { role: "padrao", nomeGuerra: "SD FRANCIS", nascimento: "17/12" },
			"4355555": { role: "padrao", nomeGuerra: "SD TONELLOTTO", nascimento: "05/11" },
			"4356047": { role: "padrao", nomeGuerra: "2 SGT VIANEI", nascimento: "05/12" },
			"4375149": { role: "padrao", nomeGuerra: "SD FONTANA", nascimento: "04/04" },
			"4387759": { role: "padrao", nomeGuerra: "SD JULIAN", nascimento: "17/09" },
			"4387767": { role: "padrao", nomeGuerra: "SD IBALDO", nascimento: "15/07" },
			"4387775": { role: "padrao", nomeGuerra: "SD CAMPOS", nascimento: "08/07" },
			"4387821": { role: "padrao", nomeGuerra: "SD PORCELIS", nascimento: "08/08" },
			"4388003": { role: "padrao", nomeGuerra: "SD BUENO", nascimento: "10/05" },
			"4388178": { role: "padrao", nomeGuerra: "SD HIDALGO", nascimento: "24/04" },
			"4388283": { role: "padrao", nomeGuerra: "SD BARBOSA", nascimento: "23/07" },
			"4388305": { role: "padrao", nomeGuerra: "SD EIDER", nascimento: "27/05" },
			"4388380": { role: "padrao", nomeGuerra: "SD MARTINS", nascimento: "28/05" },
			"4395140": { role: "padrao", nomeGuerra: "SD GAUTIER", nascimento: "18/04" },
			"4395476": { role: "padrao", nomeGuerra: "SD RAFAEL", nascimento: "28/02" },
			"4395778": { role: "padrao", nomeGuerra: "SD THIAGO", nascimento: "05/05" },
			"4490053": { role: "padrao", nomeGuerra: "SD TEMP RENAN", nascimento: "23/02" },
			"4490169": { role: "padrao", nomeGuerra: "SD TEMP MAIA", nascimento: "04/10" },
			"4490193": { role: "padrao", nomeGuerra: "SD TEMP CORREA", nascimento: "27/07" },
			"4490258": { role: "padrao", nomeGuerra: "SD SIQUEIRA", nascimento: "04/05" },
			"4490266": { role: "padrao", nomeGuerra: "SD TEMP PAULINO", nascimento: "13/05" },
			"4490339": { role: "padrao", nomeGuerra: "SD TEMP ZANETTI", nascimento: "30/09" },
			"4490355": { role: "padrao", nomeGuerra: "SD PETER", nascimento: "04/09" },
			"4490452": { role: "padrao", nomeGuerra: "SD TEMP PINTO", nascimento: "05/02" },
			"4490479": { role: "padrao", nomeGuerra: "SD TEMP EVERTON", nascimento: "19/08" },
			"4490541": { role: "padrao", nomeGuerra: "SD TEMP SPERLING", nascimento: "31/03" },
			"4490576": { role: "padrao", nomeGuerra: "SD BAIGORRA", nascimento: "20/02" },
			"4490614": { role: "padrao", nomeGuerra: "SD TEMP CARDOSO", nascimento: "09/03" },
			"4490665": { role: "padrao", nomeGuerra: "SD TEMP DOTTA", nascimento: "12/09" },
			"4490738": { role: "padrao", nomeGuerra: "SD TEMP SOARES", nascimento: "04/06" },
			"4490800": { role: "padrao", nomeGuerra: "SD TEMP VOLZ", nascimento: "23/07" },
			"4490843": { role: "padrao", nomeGuerra: "SD TEMP WESLEY", nascimento: "14/02" },
			"4496990": { role: "padrao", nomeGuerra: "SD TEMP FILIPE", nascimento: "03/12" },
			"4550552": { role: "padrao", nomeGuerra: "SD PIRES", nascimento: "06/03" },
			"4550609": { role: "padrao", nomeGuerra: "SD MAGALHÃES", nascimento: "18/12" },
			"4550757": { role: "padrao", nomeGuerra: "SD WESTPHALEN", nascimento: "01/03" },
			"4550846": { role: "padrao", nomeGuerra: "SD JORDAN", nascimento: "15/04" },
			"4551990": { role: "padrao", nomeGuerra: "SD MUNDEL", nascimento: "02/03" },
			"4626290": { role: "padrao", nomeGuerra: "SD MAURICIO", nascimento: "17/11" },
			"4626672": { role: "padrao", nomeGuerra: "SD AZEREDO", nascimento: "28/01" },
			"4672410": { role: "admin", nomeGuerra: "SD GARIBALDI", nascimento: "05/08" },
			"4672445": { role: "padrao", nomeGuerra: "SD KINGESKI", nascimento: "12/08" },
			"4782534": { role: "padrao", nomeGuerra: "SD ASSUNÇÃO", nascimento: "24/10" },
			"4782917": { role: "padrao", nomeGuerra: "SD NATHAN", nascimento: "18/07" },
			"4843584": { role: "padrao", nomeGuerra: "SD CABRAL", nascimento: "28/01" },
			"4843673": { role: "padrao", nomeGuerra: "SD TEIXEIRA", nascimento: "31/07" },
			"4845510": { role: "padrao", nomeGuerra: "SD VINÍCIUS", nascimento: "16/10" },
			"4845544": { role: "padrao", nomeGuerra: "SD THIAGO", nascimento: "18/04" },
			"4845579": { role: "padrao", nomeGuerra: "SD AARON", nascimento: "11/10" },
			"4980662": { role: "padrao", nomeGuerra: "SD SANTOS", nascimento: "14/08" },
			"4981340": { role: "padrao", nomeGuerra: "SD BRUNA", nascimento: "10/01" },
			"4982924": { role: "padrao", nomeGuerra: "SD CECCON", nascimento: "22/05" },
			"4982959": { role: "padrao", nomeGuerra: "SD ROSEANNE", nascimento: "29/03" },
			"4982975": { role: "padrao", nomeGuerra: "SD COSME", nascimento: "19/08" },
			"4982991": { role: "padrao", nomeGuerra: "SD ARAUJO", nascimento: "08/11" },
			"4983793": { role: "padrao", nomeGuerra: "SD CATELAN", nascimento: "04/09" }
        };

        // --- 2. DECLARAÇÃO DAS FUNÇÕES ---
        function checarAniversarios() {
            // ... (código do widget, sem alterações)
        }

        function atualizarInterface(userRole) {
            // ... (código de interface, sem alterações)
        }
        
        // FUNÇÃO DE SENHA CORRIGIDA
        function gerarSenhaEsperada(nomeCompletoComPosto) {
            const regexPosto = /^(maj|cap|1º ten pme|1° ten pme|2° sgt pme|1º ten|1° ten|2° sgt|3° sgt|sd temp|sd)\s*/i;
            const nomeDeGuerraApenas = nomeCompletoComPosto.replace(regexPosto, '');

            let senha = nomeDeGuerraApenas.toLowerCase();
            senha = senha.replace(/\s/g, '');
            senha = senha.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
            return senha + "193";
        }

        function handleLogin() {
            // ... (código de login, sem alterações)
        }

        // --- 3. EXECUÇÃO DOS SCRIPTS AO CARREGAR A PÁGINA ---
        checarAniversarios();
        const isAuthenticated = sessionStorage.getItem('isBbmAuthenticated') === 'true';
        const userRole = sessionStorage.getItem('bbmUserRole');
        if (isAuthenticated && userRole) {
            atualizarInterface(userRole);
        } else {
            atualizarInterface('none'); 
        }

        // --- 4. ADIÇÃO DOS EVENT LISTENERS ---
        allShortcutButtons.forEach(link => {
            if (link.href.startsWith('mailto:')) { return; }
            link.addEventListener('click', (event) => {
                const requiredRole = link.dataset.role;
                const userIsAuthenticated = sessionStorage.getItem('isBbmAuthenticated') === 'true';
                const currentUserRole = sessionStorage.getItem('bbmUserRole');
                if (!userIsAuthenticated) {
                    event.preventDefault();
                    clickedLinkHref = link.href;
                    loginOverlay.style.display = 'flex';
                    usernameInput.focus();
                } else {
                    if (requiredRole === 'admin' && currentUserRole !== 'admin') {
                        event.preventDefault();
                        alert("Acesso restrito ao comando. Você não tem permissão para acessar este link.");
                    }
                }
            });
        });

        loginForm.addEventListener('submit', (event) => {
            event.preventDefault();
            handleLogin();
        });

        loginOverlay.addEventListener('click', (event) => {
            if (event.target === loginOverlay) {
                loginOverlay.style.display = 'none';
                clickedLinkHref = null;
            }
        });
    });
</script>
</body>
</html>
