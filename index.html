<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COMPANHIA DE BOMBEIRO MILITAR do 1º BBM</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'bombeiros-orange': '#FF8C00',
                        'bombeiros-yellow': '#FFD700',
                        'cbmrs-blue': '#1A5276',
                        'cbmrs-light-blue': '#4A90E2',
                        'fire-red': '#DC2626',
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* Fallback bg-color */
        }
        .hero-background {
            background-image: url('images/background.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            position: relative;
            z-index: 0;
        }
        .hero-background::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: -1;
        }
        .shortcut-button {
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            height: 100px;
            padding: 8px;
        }
        .shortcut-button:hover {
            background-color: rgba(255, 140, 0, 0.95);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
            transform: translateY(-5px);
        }
        .button-text {
            font-size: 11px;
            font-weight: 700;
            color: white;
            line-height: 1.2;
            word-break: break-word;
            hyphens: auto;
        }
        .login-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            display: none; /* Initially hidden */
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        .login-box {
            background-color: #2D3748;
            padding: 2rem;
            border-radius: 0.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            text-align: center;
            width: 90%;
            max-width: 400px;
        }
        .login-box input {
            width: 100%;
            padding: 0.75rem;
            margin-bottom: 1rem;
            border-radius: 0.25rem;
            background-color: #4A5568;
            color: white;
            border: 1px solid #718096;
        }
        .login-box input::placeholder { color: #A0AEC0; }
        .login-box button {
            width: 100%;
            padding: 0.75rem;
            border-radius: 0.25rem;
            background-color: #FF8C00;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .login-box button:hover { background-color: #cc7000; }
        .link-bloqueado {
            opacity: 0.5;
            cursor: not-allowed;
            background-color: #4A5568 !important;
        }
        .link-bloqueado:hover {
            transform: none;
            box-shadow: none;
            background-color: #4A5568 !important;
        }
    </style>
</head>
<body class="text-white min-h-screen flex flex-col">

<div class="flex-grow hero-background">
    <header class="py-4 shadow-lg z-10">
        <div class="container mx-auto px-4 text-center">
            <div class="flex flex-wrap items-center justify-center gap-4">
                <div class="bg-cbmrs-blue p-2 rounded-lg">
                    <img src="https://www.bombeiros.rs.gov.br/themes/sitecbmrs/images/logos/logo.png" alt="Logo CBMRS" class="h-16 md:h-20 w-auto">
                </div>
                <div>
                    <h1 class="text-xl md:text-2xl font-extrabold text-bombeiros-yellow">
                        COMPANHIA DE BOMBEIRO MILITAR do 1º BBM
                    </h1>
                </div>
                <div class="bg-cbmrs-blue p-2 rounded-lg">
                    <img src="images/brasao_1BBM_PARA_site.png" alt="Brasão 1º BBM" class="h-16 md:h-20 w-auto">
                </div>
            </div>
            
            <div class="mt-3">
                <h2 class="text-lg md:text-xl font-bold text-white">
                    Bem-vindo, <span class="text-bombeiros-orange">Guerreiro do Fogo!</span>
                </h2>
                <p class="text-sm text-gray-300 max-w-2xl mx-auto mt-1">
                    Aqui tu poderás acessar as principais ferramentas criadas pelos membros da CIA para facilitar o acesso às demandas administrativas, otimizando teu tempo e o nosso trabalho em prol da sociedade. Avante CBMRS!
                </p>
            </div>
        </div>
    </header>

    <main class="flex items-center justify-center py-6">
        <div class="container mx-auto px-4 text-center">
            <div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-7 gap-4 justify-center">
                
                <a href="https://forms.gle/L4KsYnat3rCkoZwV8" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md" title="Todos militares devem preencher a planilha até o dia 27 de Junho de 2025!">
                    <i class="fas fa-clipboard-list text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">FORMULÁRIO</span>
                </a>

                <a href="https://docs.google.com/spreadsheets/d/1LC76nOlcZO-yg5oRMTslHYmVmpFvfRNIN4-pimNMGqo/edit?gid=543709939#gid=543709939" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md" data-role="admin">
                    <i class="fas fa-calendar-alt text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">ESCALA ÚNICA</span>
                </a>
                <a href="https://drive.google.com/drive/u/0/folders/1lpicifxUZxNmydzskZRmPkitLS1Px2xR" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md" data-role="admin">
                    <i class="fas fa-map-marked-alt text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">MAPA MENSAL</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1KSonnz8y42uMBflzRYlDkt8BO9OWiTPjd4Das0oPgqY/edit?gid=1086865597#gid=1086865597" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-users text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">EFETIVO GERAL</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1KSonnz8y42uMBflzRYlDkt8BO9OWiTPjd4Das0oPgqY/edit?gid=687299112#gid=687299112" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-clock text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">EFETIVO NO PERÍODO</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/144g1qOiO44steK7mbICkFt-pXF_vebDqDyPmzgd22hM/edit?gid=1128532433#gid=1128532433" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-plane-departure text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">PLANO de FÉRIAS</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1TX74kxfZ9UfjFfMzMFrUAG4MqntYeAiRyKcBnG57J1o/edit?gid=232710291#gid=232710291" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-calendar-check text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">CONFIRMAÇÃO de FÉRIAS</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1TgsrZ-67BDQs6ruf4aB-T4o1gELk1PTINDH-pocM9_g/edit?gid=1206238668#gid=1206238668" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-clipboard-list text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">PARTES SLOG</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1NQ31i3W5QChjhg1g5AtjCW4Rx5dAL3r_d0Ayki92e3c/edit?gid=2047429802#gid=2047429802" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-hospital-alt text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">AFASTAMENTOS</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/11KSqhhZjiUnKAqxfADJ45PwTDfL9Em3K/edit?gid=2014955697#gid=2014955697" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-certificate text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">VALIDADE CCVTE</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1Uqcm1ATl_i7R5J9BMK6ZZay17bghB3ijXmuR599O0A0/edit?gid=2024029627#gid=2024029927" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-flask text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">TOXICOLÓGICO</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/12l1ckdiRDV8d1RnINcaLvWtpoVVK8Rv4msPR7gLkEy4/edit?gid=2017439007#gid=2017439007" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-chart-bar text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">ESTATÍSTICAS</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/13ZiHTHxL9Gl5DRG-Nuhy3MgjuqqYzvVVkUet6xgKRQM/edit?gid=62629923#gid=62629923" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md" data-role="admin">
                    <i class="fas fa-water text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">DISP. MERGULHADOR /<br>CINOTECNIA</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1pzSKuhnJZe0B0IKhv8J2sTQmz9LgyOkG2dunrA65J1o/edit?gid=163975323#gid=163975323" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md" data-role="admin">
                    <i class="fas fa-user-tie text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">FUNÇÕES CIA</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1tO5BvhpvN3z0U8v2V7ZGiVA9tm054k1QdX2dnvMtLAM/edit?gid=693248110#gid=693248110" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-comment-dots text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">MSG EXPRESSAS</span>
                </a>
                <a href="https://drive.google.com/file/d/1QzmPk-RvWS5wl8sR3xPaWpmDAGU1cNET/view?usp=sharing" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-route text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">TUTORIAL DIÁRIAS</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/17UVmvKgC_bgrtR245o07PThuHrduCUK7rI203q2GbG8/edit#gid=0" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-truck-moving text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">VIATURAS</span>
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1X2tn-ay7Xc0zOxV9lpJzN24KEelkzzB6JS7ewQzVCwE/edit?gid=926343856#gid=926343856" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-ship text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">EQUIPAMENTOS</span>
                </a>
                <a href="https://drive.google.com/drive/u/1/folders/16hXVQaxmRfkn9YPNG1-4yTPgdong0UYm" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-gas-pump text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">ABASTECIMENTO</span>
                </a>
                <a href="https://docs.google.com/document/d/1DRnUQCHcH__eoh_gcvJxhUUXp_nvavyguV-lyVkW20g/edit?usp=sharing" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-list-check text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">CHECKLIST MAPAS</span>
                </a>
                <a href="https://drive.google.com/drive/folders/19na5exdsCw863xLLIVTby6AbxWZ02Euq" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md" data-role="admin">
                    <i class="fas fa-calendar-times text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">INDISP. MENSAL</span>
                </a>
                <a href="https://drive.google.com/drive/folders/1DJm9aKGiudhPhEFBJ94SXQiMRTdV_xXN?usp=sharing" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-folder-open text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">ORDENS DE SERVIÇO</span>
                </a>
                <a href="https://drive.google.com/drive/u/1/folders/1rDz7ecttIN-z7h--wEdSQQO4cLkINZkk" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-folder-open text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">MODELOS DOCS</span>
                </a>
                <a href="https://e193.cbm.rs.gov.br/" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-phone-alt text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">E-193</span>
                </a>
                <a href="https://intranet.cbm.rs.gov.br/" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-globe text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">INTRANET</span>
                </a>
                <a href="mailto:portoalegre-acorianos-cia@cbm.rs.gov.br" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fas fa-envelope-open-text text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">E-MAIL</span>
                </a>
                <a href="https://wa.me/+5555984423613" target="_blank" class="shortcut-button bg-bombeiros-orange rounded-lg shadow-md">
                    <i class="fab fa-whatsapp text-2xl md:text-4xl text-bombeiros-yellow mb-2"></i>
                    <span class="button-text">WHATSAPP CIA</span>
                </a>
            </div>
        </div>
    </main>
</div>

<footer class="bg-gray-800 text-gray-400 py-3 z-10">
    <div class="container mx-auto px-4 text-center text-xs">
        <p>&copy; 2025 Companhia de Bombeiro Militar - 1º BBM. Desenvolvido por Gustavo Medeiros.</p>
        <p class="mt-1">
            Para demais assuntos acesse a 
            <a href="https://www.bombeiros.rs.gov.br/inicial" target="_blank" class="text-cbmrs-light-blue hover:underline">Página do CBMRS na Internet.</a>
        </p>
    </div>
</footer>

<div id="login-overlay" class="login-overlay">
    <div class="login-box">
        <img src="https://www.bombeiros.rs.gov.br/themes/sitecbmrs/images/logos/logo.png" alt="Logo CBMRS" class="h-16 w-auto mx-auto mb-4">
        <h2 class="text-xl font-bold text-white mb-4">Acesso Restrito ao Efetivo</h2>
        <form id="login-form">
            <input type="text" id="username" placeholder="Nome de Guerra" required>
            <input type="password" id="password" placeholder="Senha" required>
            <button type="submit">Entrar</button>
            <p id="login-error" class="text-red-500 text-sm mt-3" style="display: none;">Dados inválidos. Tente novamente.</p>
        </form>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const loginOverlay = document.getElementById('login-overlay');
        const loginForm = document.getElementById('login-form');
        const usernameInput = document.getElementById('username');
        const passwordInput = document.getElementById('password');
        const loginError = document.getElementById('login-error');
        const protectedLinks = document.querySelectorAll('.shortcut-button');

        const efetivo = {
                "MARTINS": { role: "admin" }, "LOPES": { role: "admin" }, "DA COSTA": { role: "admin" }, "MEDEIROS": { role: "admin" },
                "HERMENEGILDO": { role: "admin" }, "GARIBALDI": { role: "admin" }, "JÚLIA": { role: "admin" }, "BRUNO": { role: "admin" }, "LAMADRIL": { role: "admin" }, "SCHNEIDER": { role: "admin" },
                "DILMAR": { role: "admin" }, "FREITAS": { role: "admin" }, "FLAVIO": { role: "admin" }, "DELAVECHIA": { role: "admin" },
                "VIEIRA": { role: "admin" }, "LUCIANO": { role: "admin" }, "ALBUQUERQUE": { role: "admin" }, "SITENESKI": { role: "admin" },
                "LINCOLN": { role: "admin" }, "JUNIOR": { role: "admin" }, "PATRICIO": { role: "admin" }, "POSENATO": { role: "admin" },
                "RONALDO": { role: "admin" }, "EDSON": { role: "admin" }, "ASSIS": { role: "admin" }, "JULIANO": { role: "admin" },
                "CHIEZA": { role: "admin" }, "GUEDES": { role: "admin" }, "PAIM": { role: "admin" }, "SAUL": { role: "admin" },
                "MEDINA": { role: "admin" }, "AIRTON": { role: "admin" }, "FABRICIO": { role: "admin" }, "FERNANDO": { role: "admin" },
                "ARIAS": { role: "admin" }, "BECKER": { role: "admin" },
                "TAIRONE": { role: "padrao" }, "RIBEIRO": { role: "padrao" }, "MOREIRA": { role: "padrao" }, "DONATTO": { role: "padrao" },
                "ARAGAO": { role: "padrao" }, "KANOFRE": { role: "padrao" }, "GUIMARAES": { role: "padrao" }, "ESPINOSA": { role: "padrao" },
                "LAGO": { role: "padrao" }, "ALISSON": { role: "padrao" }, "JULIAN": { role: "padrao" }, "ALESSANDRO": { role: "padrao" },
                "IBALDO": { role: "padrao" }, "PIRES": { role: "padrao" }, "MAURICIO": { role: "padrao" }, "ASSUNCAO": { role: "padrao" },
                "NATHAN": { role: "padrao" }, "TEIXEIRA": { role: "padrao" }, "CORREA": { role: "padrao" }, "PAULINO": { role: "padrao" },
                "GOMES": { role: "padrao" }, "BEN HUR": { role: "padrao" }, "CARGNELUTTI": { role: "padrao" }, "DOMINGUES": { role: "padrao" },
                "ZEMPER": { role: "padrao" }, "THIAGO COELHO": { role: "padrao" }, "DEIVID": { role: "padrao" }, "CASSIANO": { role: "padrao" },
                "TOMIELLO": { role: "padrao" }, "GONCALVES": { role: "padrao" }, "HIDALGO": { role: "padrao" }, "JORDAN": { role: "padrao" },
                "CARDOSO": { role: "padrao" }, "PANAZZOLO": { role: "padrao" }, "COAN": { role: "padrao" }, "LEANDRO": { role: "padrao" },
                "EUGENIO": { role: "padrao" }, "BRUM": { role: "padrao" }, "RAUBACH": { role: "padrao" }, "PORCELIS": { role: "padrao" },
                "BAIGORRA": { role: "padrao" }, "CECCON": { role: "padrao" }, "MAIA": { role: "padrao" }, "PETER": { role: "padrao" },
                "PINTO": { role: "padrao" }, "SALDANHA": { role: "padrao" }, "LUIZ": { role: "padrao" }, "PRADIER": { role: "padrao" },
                "BERGHAHN": { role: "padrao" }, "PESSOTA": { role: "padrao" }, "FINGER": { role: "padrao" }, "FABIO": { role: "padrao" },
                "BRUNO SIQUEIRA": { role: "padrao" }, "BARRETO": { role: "padrao" }, "VANDERLAN": { role: "padrao" }, "DAYKER": { role: "padrao" },
                "THIAGO": { role: "padrao" }, "CATELAN": { role: "padrao" }, "VOLZ": { role: "padrao" }, "MENDES": { role: "padrao" },
                "FERREIRA": { role: "padrao" }, "MARTINEZ": { role: "padrao" }, "RAUBUSTT": { role: "padrao" }, "ROGER": { role: "padrao" },
                "DETONI": { role: "padrao" }, "ADRIANO BARBOSA": { role: "padrao" }, "RAFAEL": { role: "padrao" }, "COSME": { role: "padrao" },
                "EVERTON": { role: "padrao" }, "DACHI": { role: "padrao" }, "CASTRO": { role: "padrao" }, "FARIAS": { role: "padrao" },
                "VICENTE": { role: "padrao" }, "DANILO": { role: "padrao" }, "BOTEGA": { role: "padrao" }, "CRISTIANO": { role: "padrao" },
                "DA SILVA": { role: "padrao" }, "ROGAN": { role: "padrao" }, "ACACIO": { role: "padrao" }, "FRANCIS": { role: "padrao" },
                "CAMPOS": { role: "padrao" }, "FONTANA": { role: "padrao" }, "KINGESKI": { role: "padrao" }, "DOTTA": { role: "padrao" },
                "SIQUEIRA": { role: "padrao" }, "BOTTINI": { role: "padrao" }, "MATHEUS": { role: "padrao" }, "THAIS": { role: "padrao" },
                "BITENCOURT": { role: "padrao" }, "PEDRO": { role: "padrao" }, "THALIN": { role: "padrao" }, "DREYER": { role: "padrao" },
                "THIAGO RIBEIRO": { role: "padrao" }, "MONTEIRO": { role: "padrao" }, "BARBOSA": { role: "padrao" }, "ISMAEL": { role: "padrao" },
                "BUENO": { role: "padrao" }, "EIDER": { role: "padrao" }, "GAUTIER": { role: "padrao" }, "SOARES": { role: "padrao" },
                "SPERLING": { role: "padrao" }, "RAMOS": { role: "padrao" }, "BARREIRO": { role: "padrao" }, "JUSSIE": { role: "padrao" },
                "PATRICK": { role: "padrao" }, "BATISTA": { role: "padrao" }, "BELOMO": { role: "padrao" }, "BRUNO EDUARDO": { role: "padrao" },
                "JONATHAN": { role: "padrao" }, "SANTOS": { role: "padrao" }, "VARGAS": { role: "padrao" }, "BERNARDES": { role: "padrao" },
                "CABRAL": { role: "padrao" }, "RENAN": { role: "padrao" }, "SEIBT": { role: "padrao" }, "ZANETTI": { role: "padrao" },
                "VIANEI": { role: "padrao" }, "DORNELES": { role: "padrao" }, "GUTERRES": { role: "padrao" }, "AZEREDO": { role: "padrao" },
                "VILAR": { role: "padrao" }, "ROSEANE": { role: "padrao" }, "ARAUJO": { role: "padrao" }, "AMARANTE": { role: "padrao" }
        };

        let clickedLinkHref = null;

        function atualizarInterface(userRole) {
            protectedLinks.forEach(link => {
                const requiredRole = link.dataset.role;
                // Os links que precisam de permissão de admin são bloqueados se o usuário não for admin
                if (requiredRole === 'admin' && userRole !== 'admin') {
                    link.classList.add('link-bloqueado');
                    link.title = "Acesso restrito ao comando.";
                } else {
                    link.classList.remove('link-bloqueado');
                    // Limpa o título apenas se ele foi definido para bloqueio
                    if (link.title === "Acesso restrito ao comando.") {
                        link.title = "";
                    }
                }
            });
        }
        
        function gerarSenhaEsperada(nome) {
            let senha = nome.toLowerCase();
            senha = senha.replace(/\s/g, '');
            senha = senha.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
            return senha + "193";
        }

        function handleLogin() {
            const enteredUsername = usernameInput.value.trim();
            const enteredPassword = passwordInput.value.trim();
            const userToUpper = enteredUsername.toUpperCase();
            const userData = efetivo[userToUpper];

            if (userData) {
                const expectedPassword = gerarSenhaEsperada(enteredUsername);
                if (enteredPassword === expectedPassword) {
                    sessionStorage.setItem('isBbmAuthenticated', 'true');
                    sessionStorage.setItem('bbmUserRole', userData.role);
                    loginOverlay.style.display = 'none';
                    atualizarInterface(userData.role);

                    if (clickedLinkHref) {
                        const clickedLinkElement = Array.from(protectedLinks).find(l => l.href === clickedLinkHref);
                        if (clickedLinkElement && !clickedLinkElement.classList.contains('link-bloqueado')) {
                            window.open(clickedLinkHref, '_blank');
                        }
                        clickedLinkHref = null; 
                    }
                    return;
                }
            }
            loginError.style.display = 'block';
            passwordInput.value = "";
            passwordInput.focus();
        }

        const isAuthenticated = sessionStorage.getItem('isBbmAuthenticated') === 'true';
        const userRole = sessionStorage.getItem('bbmUserRole');

        if (isAuthenticated && userRole) {
            loginOverlay.style.display = 'none';
            atualizarInterface(userRole);
        } else {
            atualizarInterface('none'); // Bloqueia links de admin por padrão
            // AJUSTE 2: Mostra o overlay de login após 3 segundos se não estiver autenticado
            setTimeout(() => {
                // Verificação extra para garantir que o usuário não se autenticou nesse meio tempo
                if (sessionStorage.getItem('isBbmAuthenticated') !== 'true') {
                    loginOverlay.style.display = 'flex';
                    usernameInput.focus();
                }
            }, 3000); // 3000 milissegundos = 3 segundos
        }

        protectedLinks.forEach(link => {
            // Verifica se o link não é o de e-mail, que não precisa de autenticação
            if (link.href.startsWith('mailto:')) {
                return;
            }

            link.addEventListener('click', (event) => {
                const linkIsBlocked = link.classList.contains('link-bloqueado');
                const userIsAuthenticated = sessionStorage.getItem('isBbmAuthenticated') === 'true';

                if (linkIsBlocked) {
                    event.preventDefault();
                    return;
                }

                if (!userIsAuthenticated) {
                    event.preventDefault(); 
                    clickedLinkHref = link.href;
                    loginOverlay.style.display = 'flex';
                    usernameInput.focus();
                }
            });
        });

        loginForm.addEventListener('submit', (event) => {
            event.preventDefault();
            handleLogin();
        });

        // Fecha o overlay de login se clicar fora da caixa
        loginOverlay.addEventListener('click', (event) => {
            if (event.target === loginOverlay) {
                loginOverlay.style.display = 'none';
                clickedLinkHref = null;
            }
        });
    });
</script>
</body>
</html>
